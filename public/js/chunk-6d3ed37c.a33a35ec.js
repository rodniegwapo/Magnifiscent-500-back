(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d3ed37c"],{"23a7":function(t,e,a){"use strict";a("99af"),a("a623"),a("4160"),a("caad"),a("d81d"),a("13d5"),a("fb6a"),a("a434"),a("b0c0"),a("a9e3"),a("159b");var s=a("2909"),r=a("5530"),i=a("53ca"),n=(a("5803"),a("2677")),o=a("cc20"),l=a("80d2"),c=a("d9bd"),u=a("d9f7");e["a"]=n["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(t){return"boolean"===typeof t||[1e3,1024].includes(t)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(t){return Object(l["F"])(t).every((function(t){return null!=t&&"object"===Object(i["a"])(t)}))}}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},n["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);var e=this.internalArrayValue.reduce((function(t,e){var a=e.size,s=void 0===a?0:a;return t+s}),0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(l["v"])(e,1024===this.base))},internalArrayValue:function(){return Object(l["F"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var t=this;return this.isDirty?this.internalArrayValue.map((function(e){var a=e.name,s=void 0===a?"":a,r=e.size,i=void 0===r?0:r,n=t.truncateText(s);return t.showSize?"".concat(n," (").concat(Object(l["v"])(i,1024===t.base),")"):n})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(t){!0===t&&Object(c["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(t){var e=this.isMultiple?t:t?[t]:[];Object(l["i"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var t=this;return this.isDirty?this.text.map((function(e,a){return t.$createElement(o["a"],{props:{small:t.smallChips},on:{"click:close":function(){var e=t.internalValue;e.splice(a,1),t.internalValue=e}}},[e])})):[]},genControl:function(){var t=n["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(u["c"])(t.data.style,{display:"none"})),t},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot:function(){var t=this;if(!this.prependIcon)return null;var e=this.genIcon("prepend",(function(){t.$refs.input.click()}));return this.genSlot("prepend","outer",[e])},genSelectionText:function(){var t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections:function(){var t=this,e=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,s){t.$scopedSlots.selection&&e.push(t.$scopedSlots.selection({text:t.text[s],file:a,index:s}))})):e.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},e)},genTextFieldSlot:function(){var t=this,e=n["a"].options.methods.genTextFieldSlot.call(this);return e.data.on=Object(r["a"])(Object(r["a"])({},e.data.on||{}),{},{click:function(){return t.$refs.input.click()}}),e},onInput:function(t){var e=Object(s["a"])(t.target.files||[]);this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown:function(t){this.$emit("keydown",t)},truncateText:function(t){if(t.length<Number(this.truncateLength))return t;var e=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(t.slice(0,e),"â€¦").concat(t.slice(t.length-e))}}})},2677:function(t,e,a){"use strict";var s=a("8654");e["a"]=s["a"]},"2ff9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pa-6"},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"headline primary--text"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"primary"}},[t._v("fas fa-user")]),a("small",[t._v("Personal Information")])],1),a("v-col",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-btn",{staticClass:"primary black--text",attrs:{block:""},on:{click:function(e){return t.showEditProfile(t.profile)}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("fas fa-edit")]),t._v(" Edit ")],1)],1),a("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[a("v-btn",{attrs:{color:"primary black--text",block:""},on:{click:function(e){t.changePasswordDialog=!0}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("fas fa-edit")]),t._v(" Change Password ")],1)],1)],1)],1)],1)],1),a("v-divider"),t.profile.role?a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pa-5",attrs:{cols:"12",md:"4",sm:"12"}},[a("div",{staticClass:"d-flex justify-center w-full align-center h-full"},[a("v-avatar",{staticClass:"mb-10",class:t.roleColor(t.profile.role.name),attrs:{size:"180"}},[t.profile.first_name&&!t.profile.avatar?a("span",{staticClass:"white--text text-h2"},[t._v(" "+t._s(t.profile.first_name.substr(0,1)+t.profile.last_name.substr(0,1))+" ")]):a("img",{class:t.borderColorByRole(t.profile.role.name),attrs:{alt:"avatar",src:t.profile.avatar}})])],1)]),a("v-col",{staticClass:"pa-5",attrs:{cols:"12",md:"8",sm:"12"}},[a("table",{staticClass:"w-full"},[a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("First Name")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.first_name)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Middle Name")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.middle_name)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Last Name")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.last_name)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Username")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.username)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Email")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.email)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Address")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.address)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Mobile Number")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.mobile_no)+" ")])]),"User"===t.profile.role.name?[a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("BDO Account")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.bdo_account)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Security Bank Account")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.security_bank_account)+" ")])]),a("tr",[a("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[a("b",[t._v("Eastwest Account")])]),a("td",{staticClass:"py-2"},[t._v(" "+t._s(t.profile.eastwest_account)+" ")])])]:t._e()],2)])],1)],1):t._e()],1),a("v-dialog",{attrs:{persistent:"","max-width":"500","overlay-opacity":"0.6","overlay-color":"grey"},model:{value:t.changePasswordDialog,callback:function(e){t.changePasswordDialog=e},expression:"changePasswordDialog"}},[a("v-form",{ref:"changePasswordForm",attrs:{lazy:""},on:{submit:function(e){return e.preventDefault(),t.changePass(e)}}},[a("v-card",[a("v-card-title",{staticClass:"pb-8"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[t._v("fas fa-user")]),a("span",{staticClass:"headline primary--text"},[a("small",[t._v("Edit Profile")])]),a("v-spacer"),a("v-btn",{attrs:{disabled:t.submitting,fab:"",text:"",small:"",color:"primary"},on:{click:function(e){t.$refs.changePasswordForm.reset(),t.changePasswordDialog=!1}}},[a("v-icon",[t._v("fas fa-times")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Current Password",error:!!t.errors.current_password,"error-messages":t.errors.current_password?t.errors.current_password:[],rules:[function(t){return!!t||"Username is required."}],outlined:"",flat:"",dense:"",type:"password"},model:{value:t.changePasswordForm.current_password,callback:function(e){t.$set(t.changePasswordForm,"current_password",e)},expression:"changePasswordForm.current_password"}})],1),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"New Password",outlined:"",flat:"",dense:"",error:!!t.errors.new_password,"error-messages":t.errors.new_password?t.errors.new_password:[],rules:[function(t){return!!t||"This field is required"}],type:"password"},model:{value:t.changePasswordForm.new_password,callback:function(e){t.$set(t.changePasswordForm,"new_password",e)},expression:"changePasswordForm.new_password"}})],1),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Confirm New Password",outlined:"",flat:"",dense:"",error:!!t.errors.confirm_new_password,"error-messages":t.errors.confirm_new_password?t.errors.confirm_new_password:[],rules:[function(t){return!!t||"This field is required"}],type:"password"},model:{value:t.changePasswordForm.confirm_new_password,callback:function(e){t.$set(t.changePasswordForm,"confirm_new_password",e)},expression:"changePasswordForm.confirm_new_password"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.$refs.changePasswordForm.reset(),t.changePasswordDialog=!1}}},[t._v(" close ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.submitting,loading:t.submitting,type:"submit"}},[t._v(" Save ")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500px","overlay-opacity":"0.6","overlay-color":"grey"},model:{value:t.editProfileDialog,callback:function(e){t.editProfileDialog=e},expression:"editProfileDialog"}},[a("v-form",{ref:"editProfileForm",attrs:{lazy:""},on:{submit:function(e){return e.preventDefault(),t.updateProfile(e)}}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"pb-8"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[t._v("fas fa-user")]),a("span",{staticClass:"headline primary--text"},[a("small",[t._v("Edit Profile")])]),a("v-spacer"),a("v-btn",{attrs:{disabled:t.submitting,fab:"",text:"",small:"",color:"primary"},on:{click:function(e){t.$refs.editProfileForm.reset(),t.editProfileDialog=!1}}},[a("v-icon",[t._v("fas fa-times")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-file-input",{staticClass:"file-input-small-chips",attrs:{label:"Avatar",dense:"",outlined:"",chips:"",accept:"image/png, image/jpeg, image/bmp","prepend-icon":"fas fa-user"},model:{value:t.editProfileForm.avatar,callback:function(e){t.$set(t.editProfileForm,"avatar",e)},expression:"editProfileForm.avatar"}})],1),t.profile.role&&"User"==t.profile.role.name?[a("v-col",{attrs:{cols:"12"}},[t._v(" Please add at least one bank account. "),a("span",{staticClass:"red--text"},[t._v("*")])]),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"BDO",name:"bdo_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:t.editProfileForm.bdo_account,callback:function(e){t.$set(t.editProfileForm,"bdo_account",e)},expression:"editProfileForm.bdo_account"}})],1),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Eastwest",name:"eastwest_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:t.editProfileForm.eastwest_account,callback:function(e){t.$set(t.editProfileForm,"eastwest_account",e)},expression:"editProfileForm.eastwest_account"}})],1),a("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Security Bank",name:"security_bank_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:t.editProfileForm.security_bank_account,callback:function(e){t.$set(t.editProfileForm,"security_bank_account",e)},expression:"editProfileForm.security_bank_account"}})],1)]:t._e()],2)],1),a("v-card-actions",{staticClass:"pt-0"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:t.submitting},on:{click:function(e){t.editProfileDialog=!1}}},[a("b",[t._v("Close")])]),a("v-btn",{attrs:{color:"primary",text:"",loading:t.submitting,disabled:t.submitting,type:"submit"}},[a("b",[t._v("Save")])])],1)],1)],1)],1)],1)},r=[],i=(a("b0c0"),a("96cf"),a("1da1")),n=a("5530"),o=a("2f62"),l={data:function(){return{changePasswordDialog:!1,editProfileDialog:!1,editProfileForm:{},changePasswordForm:{},loading:!1,errors:{},submitting:!1}},mounted:function(){},computed:Object(n["a"])(Object(n["a"])({},Object(o["b"])({profile:"profile",profileDialog:"profileDialog"})),{},{userRole:function(){return this.editProfileForm.role?this.editProfileForm.role.name:""}}),methods:{showEditProfile:function(t){this.editProfileForm=Object.assign({},t),delete this.editProfileForm.avatar,this.editProfileDialog=!0},updateProfile:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,r,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.editProfileForm.validate()){e.next=28;break}if(a=t.editProfileForm,s=!a.bdo_account&&!a.eastwest_account&&!a.security_bank_account,"User"!==a.role.name||!s){e.next=7;break}t.showSnackbar("error","Please add at least one bank account."),e.next=28;break;case 7:for(i in e.prev=7,t.submitting=!0,r=new FormData,a)a[i]&&r.append(i,a[i]);return e.next=13,t.$axios.post("/profile/update-info",r);case 13:n=e.sent,t.$store.commit("setProfile",n.data.data),t.showSnackbar("success","User has been updated successfully."),t.editProfileDialog=!1,t.$refs.editProfileForm.reset(),t.reset(),e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](7),t.errors=e.t0.response&&e.t0.response.data.errors?e.t0.response.data.errors:{},t.showSnackbar("error",e.t0.response?e.t0.response.data.message:e.t0.message);case 25:return e.prev=25,t.submitting=!1,e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[7,21,25,28]])})))()},changePass:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$refs.changePasswordForm.validate()){e.next=18;break}return e.prev=1,t.submitting=!0,a=t.changePasswordForm,e.next=6,t.$axios.post("/profile/update-password",a);case 6:t.changePasswordDialog=!1,t.showSnackbar("success","User has been updated successfully."),t.$refs.changePasswordForm.reset(),t.reset(),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),t.errors=e.t0.response&&e.t0.response.data.errors?e.t0.response.data.errors:{};case 15:return e.prev=15,t.submitting=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})))()},reset:function(){this.editProfileDialog=!1,this.changePasswordDialog=!1,this.errors={}}}},c=l,u=a("2877"),d=a("6544"),p=a.n(d),f=a("8212"),h=a("8336"),v=a("b0af"),m=a("99d9"),b=a("62ad"),y=a("169a"),g=a("ce7e"),w=a("23a7"),_=a("4bd4"),x=a("132d"),P=a("0fd9"),C=a("2fa4"),k=a("8654"),S=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=S.exports;p()(S,{VAvatar:f["a"],VBtn:h["a"],VCard:v["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VCol:b["a"],VDialog:y["a"],VDivider:g["a"],VFileInput:w["a"],VForm:_["a"],VIcon:x["a"],VRow:P["a"],VSpacer:C["a"],VTextField:k["a"]})},5803:function(t,e,a){}}]);
//# sourceMappingURL=chunk-6d3ed37c.a33a35ec.js.map