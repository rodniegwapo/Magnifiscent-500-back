(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d659d"],{"71d1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-6"},[a("v-data-table",{staticClass:"elevation-1 overflow-hidden",attrs:{loading:e.loading,headers:e.headers,items:e.users.data,options:e.pagination,"footer-props":{itemsPerPageOptions:e.itemsPerPageOptions},"server-items-length":e.users.meta?e.users.meta.total:0,dark:""},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-container",{staticClass:"grey darken-4 elevation-1 pt-6 px-7",staticStyle:{"max-width":"100%!important"}},[a("v-row",[a("v-col",{staticClass:"primary--text headline",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-btn",{staticClass:"mr-3 elevation-0",attrs:{"x-small":"",fab:"",color:"primary"},on:{click:function(t){return e.reloadUsers()}}},[a("v-icon",{staticClass:"black--text",attrs:{small:""}},[e._v("fas fa-redo-alt")])],1),a("small",[e._v("Monthly Qualifiers")])],1),a("v-col",{staticClass:"pa-2",attrs:{cols:"12",md:"4",sm:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",dark:"",outlined:"",label:"Select Year and Month","prepend-inner-icon":"fas fa-calendar-alt",readonly:""},model:{value:e.yearAndMonth,callback:function(t){e.yearAndMonth=t},expression:"yearAndMonth"}},"v-text-field",r,!1),n))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{color:"primary",type:"month","no-title":"",scrollable:""},on:{input:function(t){e.menu=!1}},model:{value:e.yearAndMonth,callback:function(t){e.yearAndMonth=t},expression:"yearAndMonth"}})],1)],1),a("v-col",{staticClass:"pa-2",attrs:{cols:"12",md:"4",sm:"12"}},[a("div",[a("v-text-field",{attrs:{disabled:e.loading,label:"Search User...","prepend-inner-icon":"fas fa-user",outlined:"",color:"primary",clearable:"",flat:"",dense:"",dark:"",type:"text"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)])],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("div",{staticClass:"justify-center layout"},[a("v-btn",{staticClass:"elevation-0 blue",attrs:{dark:"",fab:"","x-small":""},on:{click:function(t){return e.$router.push("account-summary/"+n.id)}}},[a("v-icon",{attrs:{dark:"",small:""}},[e._v("fas fa-file-alt")])],1)],1)]}}])})],1)},r=[],s=(a("ac1f"),a("841c"),a("96cf"),a("1da1")),i=a("5530"),o=a("2f62"),l=a("c1df"),c=a.n(l),u=a("2ef0"),d=a.n(u),m={data:function(){return{loading:!0,menu:!1,yearAndMonth:c()().format("YYYY-MM"),pagination:{page:1,itemsPerPage:10},search:null,headers:[{text:"Last Name",align:"start",sortable:!0,value:"last_name"},{text:"First Name",align:"start",sortable:!0,value:"first_name"},{text:"Middle Name",align:"start",sortable:!0,value:"middle_name"},{text:"Username",align:"start",sortable:!0,value:"username"},{text:"Total Accounts",align:"center",sortable:!1,value:"total_accounts"},{text:"Total Qualified Accounts",align:"center",sortable:!1,value:"total_qualified_accounts"},{text:"Actions",align:"center",sortable:!1,value:"actions"}],users:{},disablePagination:!1}},mounted:function(){this.getUsers()},computed:Object(i["a"])(Object(i["a"])({},Object(o["b"])({itemsPerPageOptions:"itemsPerPageOptions"})),{},{year:function(){var e=this.date(this.yearAndMonth,"YYYY");return parseInt(e)},month:function(){var e=this.date(this.yearAndMonth,"MM");return parseInt(e)}}),watch:{search:d.a.debounce((function(){this.reloadUsers()}),500),pagination:{handler:function(){this.disablePagination||this.getUsers()},deep:!0},yearAndMonth:function(){this.reloadUsers()}},methods:{reloadUsers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.disablePagination=!0,e.pagination.page=1,t.next=4,e.getUsers();case 4:e.disablePagination=!1;case 5:case"end":return t.stop()}}),t)})))()},getUsers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,a=e.pagination,n={page:a.page,limit:a.itemsPerPage,year:e.year,month:e.month,search:e.search},a.sortBy&&a.sortBy.length>0&&(e.$set(n,"order_by",a.sortBy[0]),e.$set(n,"order_desc",a.sortDesc[0]?1:0)),t.next=7,e.$axios.get("/admin/users-monthly-qualifiers",{params:n});case 7:r=t.sent,e.users=r.data,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),e.showSnackbar("error",t.t0.response?t.t0.response.data.message:t.t0.message);case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])})))()}}},p=m,f=a("2877"),h=a("6544"),v=a.n(h),g=a("8336"),b=a("62ad"),y=a("a523"),x=a("8fea"),k=a("2e4b"),w=a("132d"),M=a("e449"),P=a("0fd9"),_=a("8654"),A=Object(f["a"])(p,n,r,!1,null,null,null);t["default"]=A.exports;v()(A,{VBtn:g["a"],VCol:b["a"],VContainer:y["a"],VDataTable:x["a"],VDatePicker:k["a"],VIcon:w["a"],VMenu:M["a"],VRow:P["a"],VTextField:_["a"]})}}]);
//# sourceMappingURL=chunk-2d0d659d.ffeb3384.js.map