(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-341d5c4a"],{"56b4":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"d-flex justify-center align-center h-full"},[e.loading?t("page-loading"):t("v-row",[t("v-col",{attrs:{cols:"12",sm:"8",md:"8","offset-md":"2","offset-sm":"2"}},[t("v-card",{staticClass:"overflow-hidden"},[t("v-row",[t("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"12",md:"5"}},[t("v-card",{staticClass:"w-full h-full rounded-0 py-10 d-flex flex-column",attrs:{dark:""}},[t("div",{staticClass:"d-flex justify-center py-8 h-full align-center"},[t("img",{staticClass:"w-1/2",attrs:{src:"/logo.png",alt:""}})]),t("v-hover",{scopedSlots:e._u([{key:"default",fn:function(r){var s=r.hover;return[t("div",{staticClass:"d-flex w-full justify-end px-16 py-4 text-overline cursor-pointer",class:s?"primary--text":"white--text",staticStyle:{position:"absolute",bottom:"0px"},on:{click:function(r){return e.$router.push("/login")}}},[e._v(" Already have an account ? ")])]}}],null,!1,82671602)})],1)],1),t("v-col",{staticClass:"pa-0",attrs:{cols:"12",sm:"12",md:"7"}},[t("v-form",{ref:"form",attrs:{lazy:""},on:{submit:function(r){return r.preventDefault(),e.register(r)}}},[t("v-card",{staticClass:"grey darken-4 h-full rounded-0 py-10 px-4"},[t("v-card-text",[t("v-row",[e.referrer&&e.referrer.user?t("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[t("v-text-field",{attrs:{label:"Reffered By",value:e.accountRefferer,"prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:"",readonly:""}})],1):e._e(),t("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[t("v-text-field",{attrs:{error:!!e.errors.package_code,"error-messages":e.errors.package_code?e.errors.package_code:[],label:"Package Code",rules:[function(e){return!!e||"Package Code is required."}],"prepend-inner-icon":"fas fa-cubes",outlined:"",flat:"",dense:""},model:{value:e.form.package_code,callback:function(r){e.$set(e.form,"package_code",r)},expression:"form.package_code"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"6",sm:"12"}},[t("v-text-field",{attrs:{rules:[function(e){return!!e||"First Name is required."}],label:"First Name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:""},model:{value:e.form.first_name,callback:function(r){e.$set(e.form,"first_name",r)},expression:"form.first_name"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"6",sm:"12"}},[t("v-text-field",{attrs:{rules:[function(e){return!!e||"Middle Name is required."}],label:"Middle Name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:""},model:{value:e.form.middle_name,callback:function(r){e.$set(e.form,"middle_name",r)},expression:"form.middle_name"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"6",sm:"12"}},[t("v-text-field",{attrs:{rules:[function(e){return!!e||"Last Name is required."}],label:"Last Name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:""},model:{value:e.form.last_name,callback:function(r){e.$set(e.form,"last_name",r)},expression:"form.last_name"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"6",sm:"12"}},[t("v-text-field",{attrs:{error:!!e.errors.email,"error-messages":e.errors.email?e.errors.email:[],rules:[function(e){return!!e||"Email is required."},function(e){return/.+@.+\..+/.test(e)||"Email is invalid."}],label:"Email","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:""},model:{value:e.form.email,callback:function(r){e.$set(e.form,"email",r)},expression:"form.email"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[t("v-text-field",{attrs:{error:!!e.errors.username,"error-messages":e.errors.username?e.errors.username:[],rules:[function(e){return!!e||"Username is required."}],label:"Username","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:""},model:{value:e.form.username,callback:function(r){e.$set(e.form,"username",r)},expression:"form.username"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[t("v-text-field",{attrs:{type:"password",rules:[function(e){return!!e||"Password is required."}],label:"Password","prepend-inner-icon":"fas fa-key",outlined:"",flat:"",dense:""},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[t("v-text-field",{attrs:{type:"password",rules:[function(e){return!!e||"Confirm Password is required."},function(r){return r===e.form.password||"Confirm Password and Password doesn't match."}],label:"Confirm Password","prepend-inner-icon":"fas fa-key",outlined:"",flat:"",dense:""},model:{value:e.form.confirm_password,callback:function(r){e.$set(e.form,"confirm_password",r)},expression:"form.confirm_password"}})],1)],1)],1),t("v-card-actions",{staticClass:"px-4"},[t("v-btn",{staticClass:"black--text",class:{"pointer-events-none":e.submitting},attrs:{type:"submit",color:"primary",block:"",loading:e.submitting}},[e._v(" Register ")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},a=[],n=(t("b0c0"),t("96cf"),t("1da1")),o=t("2c10"),i={components:{PageLoading:o["a"]},data:function(){return{form:{},loading:!0,errors:{},referrer:null,submitting:!1}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e.$route.params.referrer_code,!t){r.next=4;break}return r.next=4,e.getReferrer(t);case 4:e.loading=!1;case 5:case"end":return r.stop()}}),r)})))()},computed:{accountRefferer:function(){var e=this.referrer.user;return e.first_name+" "+e.last_name+" - "+this.referrer.name}},methods:{register:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.$refs.form.validate()){r.next=19;break}return r.prev=1,e.submitting=!0,e.referrer&&(e.form.referrer_id=e.referrer.id),r.next=6,e.$axios.post("/register",e.form);case 6:return r.next=8,e.login();case 8:e.errors={},e.showSnackbar("success","You are registered successfully."),r.next=16;break;case 12:r.prev=12,r.t0=r["catch"](1),e.errors=r.t0.response&&r.t0.response.data.errors?r.t0.response.data.errors:{},e.showSnackbar("error",r.t0.response?r.t0.response.data.message:r.t0.message);case 16:return r.prev=16,e.submitting=!1,r.finish(16);case 19:case"end":return r.stop()}}),r,null,[[1,12,16,19]])})))()},login:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var t,s,a,n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$axios.post("/oauth/token",{grant_type:"password",client_id:"2",client_secret:"9GHbpgfADTIhzb7RqxOftc3GTM9Sx5MSjPY3AARk",username:e.form.username,password:e.form.password});case 2:return t=r.sent,s=t.data.token_type+" "+t.data.access_token,e.$axios.defaults.headers.common["Authorization"]=s,r.next=7,e.$store.dispatch("getProfile");case 7:if(a=r.sent,n=a.role.name,"User"!==n){r.next=14;break}return r.next=12,e.$store.dispatch("getAccounts");case 12:o=r.sent,e.$cookies.set("account",o);case 14:e.$cookies.set("token",s,t.data.expires_in),e.$cookies.set("role",n,t.data.expires_in),e.gate(n);case 17:case"end":return r.stop()}}),r)})))()},gate:function(e){switch(e){case"Admin":this.$router.push("/admin/dashboard");break;case"Seller":this.$router.push("/seller/dashboard");break;default:this.$router.push("/user/dashboard");break}},getReferrer:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.$axios.get("/accounts/"+e);case 3:s=t.sent,r.referrer=s.data.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),r.$router.push("/page-not-found");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}}},l=i,c=t("2877"),u=t("6544"),d=t.n(u),f=t("8336"),m=t("b0af"),p=t("99d9"),v=t("62ad"),h=t("4bd4"),b=t("ce87"),g=t("0fd9"),x=t("8654"),k=Object(c["a"])(l,s,a,!1,null,null,null);r["default"]=k.exports;d()(k,{VBtn:f["a"],VCard:m["a"],VCardActions:p["a"],VCardText:p["b"],VCol:v["a"],VForm:h["a"],VHover:b["a"],VRow:g["a"],VTextField:x["a"]})},ce87:function(e,r,t){"use strict";var s=t("16b7"),a=t("f2e7"),n=t("58df"),o=t("d9bd");r["a"]=Object(n["a"])(s["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(o["c"])("v-hover should only contain a single element",this),e)):(Object(o["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})}}]);
//# sourceMappingURL=chunk-341d5c4a.335b1498.js.map