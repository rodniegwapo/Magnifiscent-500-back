(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d3ed37c"],{"23a7":function(e,t,s){"use strict";s("99af"),s("a623"),s("4160"),s("caad"),s("d81d"),s("13d5"),s("fb6a"),s("a434"),s("b0c0"),s("a9e3"),s("159b");var a=s("2909"),r=s("5530"),i=s("53ca"),o=(s("5803"),s("2677")),n=s("cc20"),l=s("80d2"),c=s("d9bd"),d=s("d9f7");t["a"]=o["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"===typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(l["F"])(e).every((function(e){return null!=e&&"object"===Object(i["a"])(e)}))}}},computed:{classes:function(){return Object(r["a"])(Object(r["a"])({},o["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var s=t.size,a=void 0===s?0:s;return e+a}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(l["v"])(t,1024===this.base))},internalArrayValue:function(){return Object(l["F"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var e=this;return this.isDirty?this.internalArrayValue.map((function(t){var s=t.name,a=void 0===s?"":s,r=t.size,i=void 0===r?0:r,o=e.truncateText(a);return e.showSize?"".concat(o," (").concat(Object(l["v"])(i,1024===e.base),")"):o})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(c["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.isMultiple?e:e?[e]:[];Object(l["i"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(t,s){return e.$createElement(n["a"],{props:{small:e.smallChips},on:{"click:close":function(){var t=e.internalValue;t.splice(s,1),e.internalValue=t}}},[t])})):[]},genControl:function(){var e=o["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(d["c"])(e.data.style,{display:"none"})),e},genInput:function(){var e=o["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(s,a){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[a],file:s,index:a}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=o["a"].options.methods.genTextFieldSlot.call(this);return t.data.on=Object(r["a"])(Object(r["a"])({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object(a["a"])(e.target.files||[]);this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"â€¦").concat(e.slice(e.length-t))}}})},2677:function(e,t,s){"use strict";var a=s("8654");t["a"]=a["a"]},"2ff9":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pa-6"},[s("v-card",{attrs:{dark:""}},[s("v-card-title",{staticClass:"headline primary--text"},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[s("v-icon",{staticClass:"mr-3",attrs:{small:"",color:"primary"}},[e._v("fas fa-user")]),s("small",[e._v("Personal Information")])],1),s("v-col",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[s("v-btn",{staticClass:"primary black--text",attrs:{block:""},on:{click:function(t){return e.showEditProfile(e.profile)}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fas fa-edit")]),e._v(" Edit ")],1)],1),s("v-col",{attrs:{cols:"12",md:"6",sm:"12"}},[s("v-btn",{attrs:{color:"primary black--text",block:""},on:{click:function(t){e.changePasswordDialog=!0}}},[s("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fas fa-edit")]),e._v(" Change Password ")],1)],1)],1)],1)],1)],1),s("v-divider"),e.profile.role?s("v-card-text",[s("v-row",[s("v-col",{staticClass:"pa-5",attrs:{cols:"12",md:"4",sm:"12"}},[s("div",{staticClass:"d-flex justify-center w-full align-center h-full"},[s("v-avatar",{staticClass:"mb-10",class:e.roleColor(e.profile.role.name),attrs:{size:"180"}},[e.profile.first_name&&!e.profile.avatar?s("span",{staticClass:"white--text text-h2"},[e._v(" "+e._s(e.profile.first_name.substr(0,1)+e.profile.last_name.substr(0,1))+" ")]):s("img",{class:e.borderColorByRole(e.profile.role.name),attrs:{alt:"avatar",src:e.profile.avatar}})])],1)]),s("v-col",{staticClass:"pa-5",attrs:{cols:"12",md:"8",sm:"12"}},[s("table",{staticClass:"w-full"},[s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("First Name")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.first_name)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Middle Name")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.middle_name)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Last Name")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.last_name)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Username")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.username)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Email")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.email)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Address")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.address)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Mobile Number")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.mobile_no)+" ")])]),"User"===e.profile.role.name?[s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("BDO Account")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.bdo_account)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Security Bank Account")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.security_bank_account)+" ")])]),s("tr",[s("td",{staticClass:"py-2",staticStyle:{width:"200px"}},[s("b",[e._v("Eastwest Account")])]),s("td",{staticClass:"py-2"},[e._v(" "+e._s(e.profile.eastwest_account)+" ")])])]:e._e()],2)])],1)],1):e._e()],1),s("v-dialog",{attrs:{persistent:"","max-width":"500","overlay-opacity":"0.6","overlay-color":"grey"},model:{value:e.changePasswordDialog,callback:function(t){e.changePasswordDialog=t},expression:"changePasswordDialog"}},[s("v-form",{ref:"changePasswordForm",attrs:{lazy:""},on:{submit:function(t){return t.preventDefault(),e.changePass(t)}}},[s("v-card",[s("v-card-title",{staticClass:"pb-8"},[s("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("fas fa-user")]),s("span",{staticClass:"headline primary--text"},[s("small",[e._v("Update Password")])]),s("v-spacer"),s("v-btn",{attrs:{disabled:e.submitting,fab:"",text:"",small:"",color:"primary"},on:{click:function(t){e.$refs.changePasswordForm.reset(),e.changePasswordDialog=!1}}},[s("v-icon",[e._v("fas fa-times")])],1)],1),s("v-card-text",[s("v-row",[s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Current Password",error:!!e.errors.current_password,"error-messages":e.errors.current_password?e.errors.current_password:[],rules:[function(e){return!!e||"Current password is required."}],outlined:"",flat:"",dense:"",type:"password"},model:{value:e.changePasswordForm.current_password,callback:function(t){e.$set(e.changePasswordForm,"current_password",t)},expression:"changePasswordForm.current_password"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"New Password",error:!!e.errors.new_password,"error-messages":e.errors.new_password?e.errors.new_password:[],outlined:"",flat:"",dense:"",rules:[function(e){return!!e||"New Password is required."}],type:"password"},model:{value:e.changePasswordForm.new_password,callback:function(t){e.$set(e.changePasswordForm,"new_password",t)},expression:"changePasswordForm.new_password"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Confirm New Password",error:!!e.errors.confirm_new_password,"error-messages":e.errors.confirm_new_password?e.errors.confirm_new_password:[],outlined:"",flat:"",dense:"",rules:[function(e){return!!e||"Confirm New Password is required."},function(t){return t===e.changePasswordForm.new_password||"Confirm New Password and New Password doesn't match."}],type:"password"},model:{value:e.changePasswordForm.confirm_new_password,callback:function(t){e.$set(e.changePasswordForm,"confirm_new_password",t)},expression:"changePasswordForm.confirm_new_password"}})],1)],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.$refs.changePasswordForm.reset(),e.changePasswordDialog=!1}}},[e._v(" close ")]),s("v-btn",{attrs:{color:"primary",text:"",disabled:e.submitting,loading:e.submitting,type:"submit"}},[e._v(" Save ")])],1)],1)],1)],1),e.profile&&e.profile.role?s("v-dialog",{attrs:{persistent:"","max-width":"User"==e.profile.role.name?"500px":"900px","overlay-opacity":"0.6","overlay-color":"grey"},model:{value:e.editProfileDialog,callback:function(t){e.editProfileDialog=t},expression:"editProfileDialog"}},[s("v-form",{ref:"editProfileForm",attrs:{lazy:""},on:{submit:function(t){return t.preventDefault(),e.updateProfile(t)}}},[s("v-card",{attrs:{dark:""}},[s("v-card-title",{staticClass:"pb-8"},[s("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("fas fa-user")]),s("span",{staticClass:"headline primary--text"},[s("small",[e._v("Edit Profile")])]),s("v-spacer"),s("v-btn",{attrs:{disabled:e.submitting,fab:"",text:"",small:"",color:"primary"},on:{click:function(t){e.$refs.editProfileForm.reset(),e.editProfileDialog=!1}}},[s("v-icon",[e._v("fas fa-times")])],1)],1),s("v-card-text",[s("v-row",["User"!==e.profile.role.name?[s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{staticClass:"required",attrs:{rules:[function(e){return!!e||"First name is required."}],label:"First name",name:"first_name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.first_name,callback:function(t){e.$set(e.editProfileForm,"first_name",t)},expression:"editProfileForm.first_name"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{attrs:{label:"Middle name",name:"middle_name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.middle_name,callback:function(t){e.$set(e.editProfileForm,"middle_name",t)},expression:"editProfileForm.middle_name"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{staticClass:"required",attrs:{rules:[function(e){return!!e||"Last name is required."}],label:"Last Name",name:"last_name","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.last_name,callback:function(t){e.$set(e.editProfileForm,"last_name",t)},expression:"editProfileForm.last_name"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{staticClass:"required",attrs:{error:!!e.errors.username,"error-messages":e.errors.username?e.errors.username:[],rules:[function(e){return!!e||"Username is required."}],label:"Username",name:"username","prepend-inner-icon":"fas fa-user",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.username,callback:function(t){e.$set(e.editProfileForm,"username",t)},expression:"editProfileForm.username"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{staticClass:"required",attrs:{label:"Email",name:"email",error:!!e.errors.email,"error-messages":e.errors.email?e.errors.email:[],rules:[function(e){return!!e||"Email is required."},function(e){return/.+@.+\..+/.test(e)||"Email is invalid."}],"prepend-inner-icon":"fas fa-envelope",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.email,callback:function(t){e.$set(e.editProfileForm,"email",t)},expression:"editProfileForm.email"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"4",sm:"12"}},[s("v-text-field",{attrs:{label:"Mobile Number",name:"mobile_no","prepend-inner-icon":"fas fa-mobile",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.mobile_no,callback:function(t){e.$set(e.editProfileForm,"mobile_no",t)},expression:"editProfileForm.mobile_no"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"6",sm:"12"}},[s("v-text-field",{class:"User"===e.userRole?"required":"",attrs:{label:"Address",name:"address",rules:e.profile.role&&"User"===e.profile.role.name?[function(e){return!!e||"Address is required."}]:[],"prepend-inner-icon":"fas fa-map-marker-alt",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.address,callback:function(t){e.$set(e.editProfileForm,"address",t)},expression:"editProfileForm.address"}})],1)]:e._e(),s("v-col",{staticClass:"py-1",attrs:{cols:"12",md:"User"==e.profile.role.name?"12":"6",sm:"12"}},[s("v-file-input",{staticClass:"file-input-small-chips",attrs:{label:"Avatar",dense:"",outlined:"",chips:"",accept:"image/png, image/jpeg, image/bmp","prepend-icon":"fas fa-user"},model:{value:e.editProfileForm.avatar,callback:function(t){e.$set(e.editProfileForm,"avatar",t)},expression:"editProfileForm.avatar"}})],1),"User"==e.profile.role.name?[s("v-col",{attrs:{cols:"12"}},[e._v(" Please add at least one bank account. "),s("span",{staticClass:"red--text"},[e._v("*")])]),s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"BDO",name:"bdo_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.bdo_account,callback:function(t){e.$set(e.editProfileForm,"bdo_account",t)},expression:"editProfileForm.bdo_account"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Eastwest",name:"eastwest_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.eastwest_account,callback:function(t){e.$set(e.editProfileForm,"eastwest_account",t)},expression:"editProfileForm.eastwest_account"}})],1),s("v-col",{staticClass:"py-1",attrs:{cols:"12"}},[s("v-text-field",{attrs:{label:"Security Bank",name:"security_bank_account","prepend-inner-icon":"fas fa-university",outlined:"",flat:"",dense:"",type:"text"},model:{value:e.editProfileForm.security_bank_account,callback:function(t){e.$set(e.editProfileForm,"security_bank_account",t)},expression:"editProfileForm.security_bank_account"}})],1)]:e._e()],2)],1),s("v-card-actions",{staticClass:"pt-0"},[s("v-spacer"),s("v-btn",{attrs:{color:"primary",text:"",disabled:e.submitting},on:{click:function(t){e.editProfileDialog=!1}}},[s("b",[e._v("Close")])]),s("v-btn",{attrs:{color:"primary",text:"",loading:e.submitting,disabled:e.submitting,type:"submit"}},[s("b",[e._v("Save")])])],1)],1)],1)],1):e._e()],1)},r=[],i=(s("b0c0"),s("96cf"),s("1da1")),o=s("5530"),n=s("2f62"),l={data:function(){return{changePasswordDialog:!1,editProfileDialog:!1,editProfileForm:{},changePasswordForm:{},loading:!1,errors:{},submitting:!1}},mounted:function(){},computed:Object(o["a"])(Object(o["a"])({},Object(n["b"])({profile:"profile",profileDialog:"profileDialog"})),{},{userRole:function(){return this.editProfileForm.role?this.editProfileForm.role.name:""}}),methods:{showEditProfile:function(e){this.editProfileForm=Object.assign({},e),delete this.editProfileForm.avatar,this.editProfileDialog=!0},updateProfile:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,a,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.editProfileForm.validate()){t.next=28;break}if(s=e.editProfileForm,a=!s.bdo_account&&!s.eastwest_account&&!s.security_bank_account,"User"!==s.role.name||!a){t.next=7;break}e.showSnackbar("error","Please add at least one bank account."),t.next=28;break;case 7:for(i in t.prev=7,e.submitting=!0,r=new FormData,s)s[i]&&r.append(i,s[i]);return t.next=13,e.$axios.post("/profile/update-info",r);case 13:o=t.sent,e.$store.commit("setProfile",o.data.data),e.showSnackbar("success","User has been updated successfully."),e.editProfileDialog=!1,e.$refs.editProfileForm.reset(),e.reset(),t.next=25;break;case 21:t.prev=21,t.t0=t["catch"](7),e.errors=t.t0.response&&t.t0.response.data.errors?t.t0.response.data.errors:{},e.showSnackbar("error",t.t0.response?t.t0.response.data.message:t.t0.message);case 25:return t.prev=25,e.submitting=!1,t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[7,21,25,28]])})))()},changePass:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.changePasswordForm.validate()){t.next=18;break}return t.prev=1,e.submitting=!0,s=e.changePasswordForm,t.next=6,e.$axios.post("/profile/update-password",s);case 6:e.changePasswordDialog=!1,e.showSnackbar("success","User has been updated successfully."),e.$refs.changePasswordForm.reset(),e.reset(),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),e.errors=t.t0.response&&t.t0.response.data.errors?t.t0.response.data.errors:{};case 15:return t.prev=15,e.submitting=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},reset:function(){this.editProfileDialog=!1,this.changePasswordDialog=!1,this.errors={}}}},c=l,d=s("2877"),u=s("6544"),f=s.n(u),p=s("8212"),m=s("8336"),v=s("b0af"),h=s("99d9"),b=s("62ad"),y=s("169a"),w=s("ce7e"),_=s("23a7"),g=s("4bd4"),x=s("132d"),P=s("0fd9"),C=s("2fa4"),F=s("8654"),k=Object(d["a"])(c,a,r,!1,null,null,null);t["default"]=k.exports;f()(k,{VAvatar:p["a"],VBtn:m["a"],VCard:v["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VCol:b["a"],VDialog:y["a"],VDivider:w["a"],VFileInput:_["a"],VForm:g["a"],VIcon:x["a"],VRow:P["a"],VSpacer:C["a"],VTextField:F["a"]})},5803:function(e,t,s){}}]);
//# sourceMappingURL=chunk-6d3ed37c.10608a0c.js.map