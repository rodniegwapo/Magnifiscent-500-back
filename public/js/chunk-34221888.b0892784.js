(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-34221888"],{"013f":function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"d-flex justify-center align-center h-full"},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"8",md:"4","offset-md":"4","offset-sm":"2"}},[r("v-card",{staticClass:"w-full",attrs:{dark:""}},[r("v-form",{ref:"login",attrs:{lazy:""},on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[r("div",{staticClass:"d-flex justify-center py-8"},[r("img",{staticClass:"w-1/2",attrs:{src:"/logo.png",alt:""}})]),r("div",{staticClass:"px-16"},[r("v-text-field",{attrs:{"prepend-inner-icon":"fas fa-user",rules:[function(e){return!!e||"Email or Username is required"}],label:"Email or Username",required:"",outlined:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}}),r("v-text-field",{staticClass:"py-2",attrs:{"prepend-inner-icon":"fas fa-key",rules:[function(e){return!!e||"Password is required"}],label:"Password",type:"password",required:"",outlined:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.hover;return[r("div",{staticClass:"d-flex w-full justify-end pb-3 text-overline cursor-pointer",class:s?"primary--text":"white--text",on:{click:function(t){return e.$router.push("/reset-password")}}},[e._v(" Forgot your password ? ")])]}}])}),r("v-btn",{staticClass:"black--text",class:{"pointer-events-none":e.submitting},attrs:{type:"submit",color:"primary",block:"",loading:e.submitting}},[e._v(" Login ")])],1)]),r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var s=t.hover;return[r("div",{staticClass:"d-flex w-full justify-end px-16 py-4 text-overline cursor-pointer",class:s?"primary--text":"white--text",on:{click:function(t){return e.$router.push("/register")}}},[e._v(" Not yet registered ? ")])]}}])})],1)],1)],1)],1)},a=[],n=(r("b0c0"),r("96cf"),r("1da1")),o={data:function(){return{form:{},submitting:!1}},methods:{login:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r,s,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.login.validate()){t.next=31;break}return t.prev=1,e.submitting=!0,e.form.grant_type="password",e.form.client_id="2",e.form.client_secret="52Wu4cflYEJ8BqLYre0wBy1y43pegBIyB8MlEgnI",t.next=8,e.$axios.post("/oauth/token",e.form);case 8:return r=t.sent,s=r.data.token_type+" "+r.data.access_token,e.$axios.defaults.headers.common["Authorization"]=s,t.next=13,e.$store.dispatch("getProfile");case 13:if(a=t.sent,n=a.role.name,"User"!==n){t.next=20;break}return t.next=18,e.$store.dispatch("getAccounts");case 18:o=t.sent,e.$cookies.set("account",o);case 20:e.$cookies.set("token",s,r.data.expires_in),e.$cookies.set("role",n,r.data.expires_in),e.gate(n),t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](1),e.showSnackbar("error","Invalid Credentials.");case 28:return t.prev=28,e.submitting=!1,t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[1,25,28,31]])})))()},gate:function(e){switch(e){case"Admin":this.$router.push("/admin/dashboard");break;case"Seller":this.$router.push("/seller/dashboard");break;default:this.$router.push("/user/dashboard");break}}}},i=o,l=r("2877"),u=r("6544"),c=r.n(u),d=r("8336"),f=r("b0af"),p=r("62ad"),v=r("4bd4"),h=r("ce87"),m=r("0fd9"),b=r("8654"),g=Object(l["a"])(i,s,a,!1,null,null,null);t["default"]=g.exports;c()(g,{VBtn:d["a"],VCard:f["a"],VCol:p["a"],VForm:v["a"],VHover:h["a"],VRow:m["a"],VTextField:b["a"]})},ce87:function(e,t,r){"use strict";var s=r("16b7"),a=r("f2e7"),n=r("58df"),o=r("d9bd");t["a"]=Object(n["a"])(s["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(o["c"])("v-hover should only contain a single element",this),e)):(Object(o["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})}}]);
//# sourceMappingURL=chunk-34221888.b0892784.js.map