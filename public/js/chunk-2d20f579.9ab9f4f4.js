(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f579"],{b2e8:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pa-6"},[e("v-data-table",{staticClass:"elevation-1",attrs:{loading:t.loading,headers:t.headers,items:t.transactions.data,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-container",{staticClass:"grey darken-4 elevation-1 pt-6 px-7",staticStyle:{"max-width":"100%!important"}},[e("v-row",[e("v-col",{staticClass:"primary--text headline",attrs:{cols:"12",md:"12",sm:"12"}},[e("v-btn",{staticClass:"mr-3 elevation-0",attrs:{"x-small":"",fab:"",color:"primary"},on:{click:t.reloadTransactions}},[e("v-icon",{staticClass:"black--text",attrs:{small:""}},[t._v("fas fa-redo-alt")])],1),e("small",[t._v("Transactions")])],1)],1)],1)]},proxy:!0},{key:"item.status",fn:function(a){var n=a.item;return[e("div",{staticClass:"justify-center layout"},[e("v-chip",{class:n.confirmed?"success":"primary black--text",attrs:{small:"",dark:""}},[t._v(" "+t._s(n.confirmed?"Approved":"Pending")+" ")])],1)]}},{key:"item.actions",fn:function(a){var n=a.item;return[e("div",{staticClass:"justify-center layout"},[e("v-btn",{staticClass:"elevation-0 ml-2 blue",attrs:{dark:"",fab:"","x-small":""},on:{click:function(a){t.selectedTransactions=n,t.showEncashmentDialog=!0}}},[e("v-icon",{attrs:{dark:"",small:""}},[t._v("fas fa-search")])],1)],1)]}}])})],1)},s=[],r=(e("96cf"),e("1da1")),i=e("5530"),c=e("2f62"),o={data:function(){return{loading:!1,transactions:{},selectedTransactions:{},search:null,status:null,pagination:{page:1,itemsPerPage:10},headers:[{text:"Account",align:"start",sortable:!1,value:"account.name"},{text:"Amount",align:"start",value:"amount"},{text:"Date requested",align:"start",sortable:!0,value:"created_at"},{text:"Status",align:"center",sortable:!1,value:"status",width:"120px"},{text:"Actions",align:"center",sortable:!1,value:"actions",width:"120px"}]}},mounted:function(){this.getTransactions()},computed:Object(i["a"])({},Object(c["b"])({selectedAccount:"selectedAccount"})),watch:{status:function(){this.reloadTransactions()},pagination:{handler:function(){this.disablePagination||this.getEncashments()},deep:!0},selectedAccount:function(){this.reloadTransactions()}},methods:{getTransactions:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.loading=!0,e=t.pagination,n={page:e.page,limit:e.itemsPerPage,account_id:t.selectedAccount?t.selectedAccount.id:null,confirmed:t.status,user_id:t.userId},t.pagination.sortBy&&t.pagination.sortBy.length>0&&(t.$set(n,"order_by",t.pagination.sortBy[0]),t.$set(n,"order_desc",t.pagination.sortDesc[0]?1:0)),a.next=7,t.$axios.get("/user/transactions",{params:n});case 7:s=a.sent,t.transactions=s.data,a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](0),t.showSnackbar("error",a.t0.response?a.t0.response.data.message:a.t0.message);case 14:return a.prev=14,t.loading=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,11,14,17]])})))()},reloadTransactions:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.disablePagination=!0,t.pagination.page=1,a.next=4,t.getTransactions();case 4:t.disablePagination=!1;case 5:case"end":return a.stop()}}),a)})))()}}},l=o,u=e("2877"),d=e("6544"),p=e.n(d),m=e("8336"),g=e("cc20"),f=e("62ad"),v=e("a523"),h=e("8fea"),b=e("132d"),x=e("0fd9"),w=Object(u["a"])(l,n,s,!1,null,null,null);a["default"]=w.exports;p()(w,{VBtn:m["a"],VChip:g["a"],VCol:f["a"],VContainer:v["a"],VDataTable:h["a"],VIcon:b["a"],VRow:x["a"]})}}]);
//# sourceMappingURL=chunk-2d20f579.9ab9f4f4.js.map